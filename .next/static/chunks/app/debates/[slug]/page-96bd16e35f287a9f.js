(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296],{6390:function(e,o,r){Promise.resolve().then(r.bind(r,2461)),Promise.resolve().then(r.bind(r,310)),Promise.resolve().then(r.bind(r,2877))},310:function(e,o,r){"use strict";r.r(o),r.d(o,{Comments:function(){return u},default:function(){return p}});var a=r(9268),t=r(6006),n=r(6095),i=r(8373),s=r(1873),l=r(2499);function d(e){let{open:o,setOpen:r,setUsuario:i}=e,[d,c]=(0,t.useState)({username:"",password:""}),u=e=>c({...d,[e.target.name]:e.target.value}),p=e=>{e.preventDefault(),(0,s._)("/login",{method:"post",data:d},e=>{e.usuario&&e.usuario.is_authenticated&&(i(e.usuario),r(!1))},e=>alert("Error: ".concat(e)))};return(0,a.jsxs)(n.Dialog,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,size:"sm",open:o,handler:()=>r(!1),className:"p-4",children:[(0,a.jsxs)(n.DialogHeader,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,className:"relative m-0 block",children:[(0,a.jsx)(n.Typography,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,variant:"h4",color:"blue-gray",children:"Identificarse"}),(0,a.jsx)(n.IconButton,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,size:"sm",variant:"text",className:"!absolute right-3.5 top-3.5",onClick:()=>r(!1),children:(0,a.jsx)(l.Z,{className:"h-4 w-4 stroke-2"})})]}),(0,a.jsxs)(n.DialogBody,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,className:"space-y-4 pb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Typography,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,variant:"small",color:"blue-gray",className:"mb-2 text-left font-medium",children:"Usuario"}),(0,a.jsx)(n.Input,{crossOrigin:void 0,onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,color:"gray",size:"lg",value:d.username,onChange:u,placeholder:"Usuario",name:"username",className:"placeholder:opacity-100 focus:!border-t-gray-900",containerProps:{className:"!min-w-full"},labelProps:{className:"hidden"}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Typography,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,variant:"small",color:"blue-gray",className:"mb-2 text-left font-medium",children:"Contrase\xf1a"}),(0,a.jsx)(n.Input,{type:"password",crossOrigin:void 0,onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,color:"gray",size:"lg",value:d.password,onChange:u,placeholder:"Usuario",name:"password",className:"placeholder:opacity-100 focus:!border-t-gray-900",containerProps:{className:"!min-w-full"},labelProps:{className:"hidden"}})]})]}),(0,a.jsx)(n.DialogFooter,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,children:(0,a.jsx)(n.Button,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,onClick:p,className:"ml-auto",children:"Enviar"})})]})}var c=r(2877);function u(e){let{slug:o}=e,[r,l]=(0,t.useState)(!1),[u,p]=(0,t.useState)(null),[v,m]=(0,t.useState)(null),[h,C]=(0,t.useState)([]);(0,t.useEffect)(()=>{{let e=window.location.pathname.split("/").pop();(0,s._)("/debates/".concat(e),{},e=>{e.usuario&&p(e.usuario),C(e.comentarios),m(e.debate)},e=>console.log(e))}},[]);let x=e=>{C([...h,e])};return(0,a.jsxs)("section",{className:"w-full py-10 max-w-2xl mx-auto flex flex-col px-5 pb-20",children:[(0,a.jsx)(n.Typography,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,variant:"h4",className:" md:text-center",color:"blue-gray",children:v&&(0,a.jsxs)("span",{children:["Comentarios de ",v.titulo]})}),(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-1",children:[null==h?void 0:h.filter(e=>void 0===e.es_replica).map((e,o)=>(0,a.jsx)("div",{children:(0,a.jsx)(c.CommentCard,{comment:e,userMe:u,handleupdate:x})},o)),(0,a.jsx)("div",{className:"md:pl-14"})]}),u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Typography,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,variant:"h4",className:"my-6 md:my-14 md:text-center",color:"blue-gray",children:"Agrega tu Comentario"}),(0,a.jsx)(i.H,{reply:void 0,userMe:u,id:o,handleupdate:x})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Button,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,variant:"text",onClick:()=>l(!0),children:"Identificarse"}),(0,a.jsx)(d,{open:r,setOpen:l,setUsuario:p})]})]})}var p=u}},function(e){e.O(0,[169,785,887,667,139,744],function(){return e(e.s=6390)}),_N_E=e.O()}]);